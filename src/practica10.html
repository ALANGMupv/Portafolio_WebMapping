<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Práctica 10 - GEE: Índices Ambientales | Portafolio WebMapping</title>

    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Reutilizamos el mismo CSS de prácticas para mantener estilos -->
    <link rel="stylesheet" href="css/practica1.css">

    <!-- JS para el menú móvil y acordeón -->

    <style>
        /* Contenedor del WebMap (iframe) */
        .webmap-container {
            width: 100%;
            height: 70vh;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid var(--border);
            background: var(--light);
            margin-bottom: 2rem;
        }

        .webmap-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        .practice-subtitle {
            margin-bottom: 2rem;
        }

        .section-separator {
            margin: 3rem 0;
            border-top: 1px solid var(--border);
        }

        .timelapse-container {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            word-break: break-all;
        }

        .timelapse-title {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
            display: block;
        }

        .legend-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body>

    <!-- NAVEGACIÓN -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-globe-americas"></i>
                <span>WebMapping Portfolio</span>
            </a>

            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>

                <li class="dropdown" id="dropdownPracticas">
                    <a href="index.html#practicas" class="dropdown-toggle" id="dropdownToggle">
                        <i class="fas fa-map"></i> Prácticas <i class="fas fa-chevron-down"></i>
                    </a>

                    <ul class="dropdown-menu" id="dropdownMenu">
                        <li><a href="practica1.html"><span class="practice-num">01</span> Introducción a QGIS</a></li>
                        <li><a href="practica3.html"><span class="practice-num">03</span> Mapa de Temperaturas</a></li>
                        <li><a href="practica4.html"><span class="practice-num">04</span> Zonas Válidas</a></li>
                        <li><a href="practica5.html"><span class="practice-num">05</span> Análisis de Severidad</a></li>
                        <li><a href="practica7.html"><span class="practice-num">07</span> Análisis Estadístico</a></li>
                        <li><a href="practica8.html"><span class="practice-num">08</span> Contenedores Madrid</a></li>
                        <li><a href="practica10.html" class="active"><span class="practice-num">10</span> Análisis
                                Temporal</a></li>
                        <li><a href="practica11.html"><span class="practice-num">11</span> WebMapping Avanzado</a></li>
                    </ul>
                </li>
            </ul>

            <div class="mobile-toggle" id="mobileToggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- HEADER -->
    <header class="practice-header">
        <div class="practice-header-content">
            <div class="practice-number">
                <i class="fas fa-satellite"></i>
                PRÁCTICA 10
            </div>

            <h1 class="practice-title">Cálculo de Índices Ambientales con GEE</h1>

            <p class="practice-subtitle">
                Uso de Google Earth Engine en Python para el cálculo y visualización de índices de agua (NDWI y MNDWI) y
                generación de TimeLapses.
            </p>

            <div class="practice-meta">
                <div class="meta-item">
                    <i class="fas fa-globe"></i>
                    <span>Formato final: WebMaps + TimeLapse</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-code"></i>
                    <span>Librería: Folium + GEE API</span>
                </div>
                <a href="#resultados" class="meta-cta">
                    <i class="fas fa-arrow-down"></i>
                    <span>Ver Resultados</span>
                </a>
            </div>
        </div>
    </header>

    <main class="main-content">

        <!-- DESARROLLO (ACORDEÓN) -->
        <section class="section accordion-section">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <h2 class="section-title">
                    <i class="fas fa-clipboard-list"></i>
                    Objetivos y Desarrollo
                </h2>
                <i class="fas fa-chevron-down accordion-icon"></i>
            </div>

            <div class="accordion-content">
                <div class="section-content">
                    <p>
                        En esta práctica se utiliza la plataforma <strong>Google Earth Engine (GEE)</strong> para
                        obtener valores de índices medioambientales a partir de constelaciones de satélites (Landsat y
                        Sentinel).
                    </p>

                    <h3>Índices Calculados</h3>
                    <ul>
                        <li><strong>NDWI (Normalized Difference Water Index):</strong> Monitorización de cambios en
                            contenido de aguas superficiales. (McFeeters, 1996).</li>
                        <li><strong>MNDWI (Modified Normalized Difference Water Index):</strong> Variante mejorada para
                            realzar características de agua. (Xu, 2006).</li>
                    </ul>

                    <h3>Tareas Realizadas</h3>
                    <ul>
                        <li>Cálculo de índices NDWI y MNDWI para zonas de estudio en <strong>México</strong> y
                            <strong>Mongolia</strong>.</li>
                        <li>Exportación de imágenes GeoTIFF.</li>
                        <li>Generación de TimeLapses animados para observar la evolución temporal en 2024.</li>
                    </ul>

                    <div class="tech-info">
                        <h4>Rampa de Colores utilizada</h4>
                        <img src="assets/images/RAMPA.png" alt="Rampa de colores NDWI" class="legend-image"
                            style="max-width: 400px;">
                    </div>
                </div>
            </div>
        </section>

        <!-- RESULTADOS -->
        <section class="section" id="resultados">

            <!-- SECCIÓN 1: MEXICO -->
            <h2 class="section-title">
                <i class="fas fa-water"></i>
                Tarea 1: NDWI México (Sentinel-2)
            </h2>
            <div class="section-content">
                <p>
                    Visualización del Índice de Agua de Diferencia Normalizada (NDWI) calculado a partir de imágenes
                    Sentinel-2.
                </p>
            </div>

            <div class="webmap-container">
                <iframe src="assets/mapas/ndwi_mexico.html" title="Mapa NDWI Mexico"></iframe>
            </div>

            <div class="section-separator"></div>

            <!-- SECCIÓN 2: MONGOLIA -->
            <h2 class="section-title">
                <i class="fas fa-water"></i>
                Tarea 1: MNDWI Mongolia (Landsat 8)
            </h2>
            <div class="section-content">
                <p>
                    Visualización del Índice de Agua de Diferencia Normalizada Modificado (MNDWI) calculado a partir de
                    imágenes Landsat 8.
                </p>
            </div>

            <div class="webmap-container">
                <iframe src="assets/mapas/mndwi_mongolia.html" title="Mapa MNDWI Mongolia"></iframe>
            </div>

            <div class="section-separator"></div>

            <!-- SECCIÓN 3: TIMELAPSE -->
            <h2 class="section-title">
                <i class="fas fa-video"></i>
                Tarea 2: TimeLapses (Parque Nacional Tablas de Daimiel)
            </h2>
            <div class="section-content">
                <p>
                    Generación de animaciones temporales para observar la evolución de la zona de estudio durante el año
                    2024.
                </p>

                <div class="timelapse-container">
                    <span class="timelapse-title">Landsat 9 (GIF Animado)</span>
                    <a href="https://earthengine.googleapis.com/v1/projects/682666798620/videoThumbnails/656dc459698acef459669e9789d9b3dd-e28f434c884d70914d5d282be7365d62:getPixels"
                        target="_blank">
                        Ver TimeLapse Landsat 9 <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>

                <div class="timelapse-container">
                    <span class="timelapse-title">Sentinel 2 (GIF Animado)</span>
                    <a href="https://earthengine.googleapis.com/v1/projects/682666798620/videoThumbnails/d1f6e8726fcb58ab9a5847d6b91250f0-9b482e5df6da64213db943648f94d922:getPixels"
                        target="_blank">
                        Ver TimeLapse Sentinel 2 <i class="fas fa-external-link-alt"></i>
                    </a>
                </div>
            </div>

        </section>

        <!-- NAVEGACIÓN -->
        <div class="practice-navigation">
            <a href="practica8.html" class="nav-practice">
                <i class="fas fa-arrow-left"></i>
                <div class="nav-practice-info">
                    <h5>Anterior Práctica</h5>
                    <p>Práctica 08 - Contenedores y Accidentes</p>
                </div>
            </a>

            <a href="practica11.html" class="nav-practice">
                <div class="nav-practice-info" style="text-align: right;">
                    <h5>Siguiente Práctica</h5>
                    <p>Práctica 11 - WebMapping Avanzado</p>
                </div>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>

    </main>

    <!-- JS Común -->
    <script>
        // ======= Menú móvil =======
        const mobileToggle = document.getElementById('mobileToggle');
        const navMenu = document.getElementById('navMenu');
        const dropdown = document.getElementById('dropdownPracticas');
        const dropdownToggle = document.getElementById('dropdownToggle');

        if (mobileToggle && navMenu) {
            mobileToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });
        }

        if (dropdown && dropdownToggle) {
            dropdownToggle.addEventListener('click', (e) => {
                if (window.innerWidth <= 768) {
                    e.preventDefault();
                    dropdown.classList.toggle('active');
                }
            });
        }

        // ======= Acordeón =======
        function toggleAccordion(headerEl) {
            const section = headerEl.closest('.accordion-section');
            if (!section) return;
            section.classList.toggle('active');
        }
    </script>
</body>

</html>